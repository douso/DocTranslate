import{d as w,n as o,J as y,r as h,c as n,o as r,t as i,e as l,a as c,w as _,u as p,l as C,G as k,z as v,ai as E,ac as T,E as B,_ as M}from"./index-DPJx0n5h.js";const N={class:"text-preview-container"},V={key:0,class:"loading-container"},b={key:1,class:"error-container"},z={key:2,class:"text-content"},P={class:"bgmask"},S=w({__name:"TextPreview",props:{fileUrl:{type:String,required:!0}},setup(f){const m=f,t=o(!0),s=o(""),u=o(""),x=o("wrap"),g=async()=>{try{t.value=!0;const e=await T.get(m.fileUrl,{responseType:"text",transformResponse:[a=>a]});if(e.status===200)u.value=e.data;else throw new Error(`获取失败，状态码: ${e.status}`);t.value=!1}catch(e){t.value=!1,s.value=e.message||"获取文本内容失败",B.error(s.value)}};return y(()=>{g()}),(e,a)=>{const d=h("el-icon");return r(),n("div",N,[t.value?(r(),n("div",V,[l(d,{class:"loading"},{default:_(()=>[l(p(C))]),_:1}),a[0]||(a[0]=c("span",null,"正在加载文本...",-1))])):i("",!0),s.value?(r(),n("div",b,[l(d,null,{default:_(()=>[l(p(k))]),_:1}),c("span",null,v(s.value),1)])):i("",!0),!t.value&&!s.value?(r(),n("div",z,[c("div",P,[c("pre",{class:E(["text-display",x.value])},v(u.value),3)])])):i("",!0)])}}}),q=M(S,[["__scopeId","data-v-c6f0be04"]]);export{q as default};
